
@(app: controllers.Application)

@shell(app){
	 <div class="row">
            <div class="col-lg-12">
              <h1 class="page-header">Curation Dashboard</h1>
            </div>
            <!-- /.col-lg-12 -->
          </div>
          <!-- /.row -->
          <div class="row">
            <div class="col-lg-3 col-md-6">
              <div class="panel panel-primary">
                <div class="panel-heading">
                  <div class="row">
                    <div class="col-xs-3">
                      <i class="fa fa-archive fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                      <div class="huge">@app.service.getPayloads.size</div>
                      <div>Payload</div>
                    </div>
                  </div>
                </div>
                <a href="@routes.Application.payload">
                  <div class="panel-footer">
                    <span class="pull-left">View Details</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                  </div>
                </a>
              </div>
            </div>
            <div class="col-lg-3 col-md-6">
              <div class="panel panel-green">
                <div class="panel-heading">
                  <div class="row">
                    <div class="col-xs-3">
                      <i class="fa fa-tasks fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                      <div class="huge">12</div>
                      <div>New Tasks!</div>
                    </div>
                  </div>
                </div>
                <a href="#">
                  <div class="panel-footer">
                    <span class="pull-left">View Details</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <!-- /.row -->
          <div class="row">
            <div class="col-lg-8">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <i class="fa fa-archive fa-fw"></i> Payload (@app.service.getPayloads.size)
                  <a href='@routes.Application.upload' role="button"
	      	     class="btn btn-primary btn-xs pull-right">Add</a>
                </div> <!-- /.panel-heading -->
                <div class="panel-body">
		      @defining(app.service.getPayloads) { payload =>
		      <table class="table table-striped">
		        <thead>
		          <tr>
		            <th></th>
		            <th>Name</th>
		            <th>File</th>
			    <th>Date</th>
			    <th></th>
		       	  </tr>
		        </thead>
		        <tbody>
                     	@for(p <- payload.subList(0,Math.min(5,payload.size))) {
 		           <tr>
			     <td><i class="fa fa-@if(p.shared){unlock}else{lock}"></i></td>
			     <td>@p.title</td>
			     <td><a href='@{routes.Application.getPayload(p.sha1.substring(0,7))}'>@p.filename</a></td>
			     <td>@{new java.util.Date(p.timestamp)}</td>
			     <td><a href='@routes.Api.download(p.sha1.substring(0,7))'><i class="fa fa-download"></i></a>
			   </tr>
			}
		        </tbody>
	              </table>
		      @if(payload.size > 5) {
		         <a href='@routes.Application.payload'>See all...</a>
		      }
		      }
                </div>  <!-- /.panel-body -->
              </div> <!-- panel -->
	    </div> <!-- col -->
	  </div> <!-- row -->
}